{% extends "base.html" %}
{% block content %}
<!-- jquerry -->

  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
  <script>
    $( function() {
    $( "#slider-range" ).slider({
      range: true,
      min: 0,
      max: 5000,
      values: [ $('#amount-min').val(), $('#amount-max').val() ],
      slide: function( event, ui ) {
        $( "#amount-min" ).val(ui.values[ 0 ]);
        $( "#amount-max" ).val(ui.values[ 1 ]);
      }
    });
  } );
  </script>
<!-- jquerry -->
<h1>Vyhledávání lektorů</h1>
<div id="filters">
  <datalist id="seznam-lokaci">
    <option value="Praha"></option>
    <option value="Brno"></option>
    <option value="Gaysexov"></option>
  </datalist>
  <form method="post">
    <input type="submit" value="Search"><br>
    <label>Price range:</label><br>
    
    <div id="slider-range"></div>
    <input type="text" id="amount-min" name="min_price" class="inp-price" {% if last_searched.min_price %} value="{{last_searched.min_price}}" {% endif %} readonly>
    <input type="text" id="amount-max" name="max_price" class="inp-price" {% if last_searched.max_price %} value="{{last_searched.max_price}}" {% endif %} readonly><br>
    <label>Location</label><br>
    <input type="text" name="location" placeholder="Lokace" list="seznam-lokaci"
      {% if last_searched.location %} value="{{last_searched.location}}" {% endif %}><br>
    <label>Tags</label><br>
    <!-- test tag -->
    <label class="tag-checkbox">
      <input type="checkbox" checked="checked">
      <span class="checkmark"></span>
      One
    </label>
    
    <!-- test tag -->
    {% for tag in tags %}
      <input type="checkbox" class="tag-checkbox" id="{{tag.uuid}}" name="{{tag.uuid}}"
      {% if last_searched[tag.uuid] == "on"%} checked{% endif %}>
      <label for="{{tag.uuid}}" class="tag"> {{tag.name}}</label><br>
    {% endfor %}
  </form>
</div>
{% for lecturer in lecturers %}<a href="{{url_for('profile', uuid=lecturer.uuid)}}">
  <div id="profile">
    <img class="profile-picture" src="{{lecturer.picture_url}}" alt="Profile picture">
    <p class="lecturer-name">
    {% if lecturer.title_before %}{{lecturer.title_before}} {% endif %}
    {% if lecturer.first_name %}{{lecturer.first_name}} {% endif %}
    {% if lecturer.middle_name %}{{lecturer.middle_name}} {% endif %}
    {% if lecturer.last_name %}{{lecturer.last_name}} {% endif %}
    {% if lecturer.title_after %}{{lecturer.title_after}}{% endif %}
    </p>
    <p class="lecturer-claim"><i>{{lecturer.claim}}</i></p>
    {% if lecturer.price_per_hour %}<p>{{lecturer.price_per_hour}} kč za hodinu</p>{% endif %}
    {% if lecturer.location %}<p>{{ lecturer.location|e }}</p>{% endif %}
  </div></a>
{% endfor %}
{% endblock%}